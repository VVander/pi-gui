<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pi-remote-web-ui</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ¤–</text></svg>" />
  </head>
  <body>
    <div id="app">
      <header id="header">
        <div class="header-left">
          <span class="logo">Ï€</span>
          <span class="logo-text">pi-remote-web-ui</span>
          <span id="status-dot" class="status-dot disconnected" title="Disconnected"></span>
          <span id="status-text" class="status-text">Connectingâ€¦</span>
        </div>
        <!-- Tab bar: filled dynamically by JS -->
        <div id="tab-bar" class="tab-bar"></div>
      </header>

      <div id="messages" class="messages"></div>

      <!-- Streaming indicator (shown while agent is working) -->
      <div id="streaming-indicator" class="streaming-indicator hidden">
        <span class="spinner"></span> Workingâ€¦
      </div>

      <div id="input-bar" class="input-bar">
        <textarea
          id="prompt-input"
          class="prompt-input"
          placeholder="Send a messageâ€¦ (Enter to send, Shift+Enter for newline)"
          rows="1"
          autofocus
        ></textarea>
        <button id="btn-send" class="btn btn-primary" title="Send (Enter)">Send</button>
        <button id="btn-abort" class="btn btn-danger hidden" title="Abort">Stop</button>
      </div>
    </div>

    <!-- Session browser overlay -->
    <div id="session-browser-overlay" class="dialog-overlay hidden">
      <div class="dialog-box session-browser-box">
        <div class="session-browser-header">
          <span class="dialog-title">Open Session</span>
          <button id="session-browser-close" class="btn btn-ghost" style="padding:4px 8px">âœ•</button>
        </div>
        <input id="session-search" class="dialog-input session-search" placeholder="Filter sessionsâ€¦" autocomplete="off" />
        <div id="session-list" class="session-list">
          <div class="session-list-loading">Loadingâ€¦</div>
        </div>
      </div>
    </div>

    <!-- Extension UI dialog overlay -->
    <div id="dialog-overlay" class="dialog-overlay hidden">
      <div id="dialog-box" class="dialog-box">
        <div id="dialog-title" class="dialog-title"></div>
        <div id="dialog-message" class="dialog-message"></div>
        <div id="dialog-body" class="dialog-body"></div>
        <div id="dialog-actions" class="dialog-actions"></div>
      </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
